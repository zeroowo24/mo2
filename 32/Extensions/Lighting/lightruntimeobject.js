var gdjs;(function(r){class o extends r.RuntimeObject{constructor(e,t){super(e,t);this._radius=t.content.radius>0?t.content.radius:1,this._color=r.rgbOrHexToRGBColor(t.content.color),this._debugMode=t.content.debugMode,this._texture=t.content.texture,this._obstaclesManager=r.LightObstaclesManager.getManager(e),this._renderer=new r.LightRuntimeObjectRenderer(this,e),this._instanceContainer=e,this.onCreated()}static hexToRGBColor(e){const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]}getRendererObject(){return this._renderer.getRendererObject()}updateFromObjectData(e,t){return e.content.radius!==t.content.radius&&this.setRadius(t.content.radius),e.content.color!==t.content.color&&(this._color=r.rgbOrHexToRGBColor(t.content.color),this._renderer.updateColor()),e.content.texture!==t.content.texture&&(this._texture=t.content.texture,this._renderer.updateMesh()),e.content.debugMode!==t.content.debugMode&&(this._debugMode=t.content.debugMode,this._renderer.updateDebugMode()),!0}getNetworkSyncData(){return{...super.getNetworkSyncData(),rad:this.getRadius(),col:this.getColor()}}updateFromNetworkSyncData(e){super.updateFromNetworkSyncData(e),e.rad!==void 0&&this.setRadius(e.rad),e.col!==void 0&&this.setColor(e.col)}updatePreRender(){this._renderer.ensureUpToDate()}getRadius(){return this._radius}setRadius(e){this._radius=e>0?e:1,this._renderer.updateRadius()}getHeight(){return 2*this._radius}getWidth(){return 2*this._radius}getDrawableX(){return this.x-this._radius}getDrawableY(){return this.y-this._radius}getColor(){return this._color[0]+";"+this._color[1]+";"+this._color[2]}setColor(e){this._color=r.rgbOrHexToRGBColor(e),this._renderer.updateColor()}getObstaclesManager(){return this._obstaclesManager}getDebugMode(){return this._debugMode}getTexture(){return this._texture}}r.LightRuntimeObject=o,r.registerObject("Lighting::LightObject",r.LightRuntimeObject)})(gdjs||(gdjs={}));
//# sourceMappingURL=lightruntimeobject.js.map
