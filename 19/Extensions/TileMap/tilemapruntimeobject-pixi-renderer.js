var gdjs;(function(n){class s{constructor(e,i){this._tileMap=null;this._object=e,PIXI.tilemap.settings.use32bitIndex=!0,this._pixiObject=new PIXI.tilemap.CompositeTilemap,this._pixiObject.tileAnim=[0,0],i.getLayer("").getRenderer().addRendererObject(this._pixiObject,e.getZOrder()),this.updateAngle(),this.updateOpacity(),this.updatePosition()}getRendererObject(){return this._pixiObject}incrementAnimationFrameX(e){this._pixiObject.tileAnim[0]+=1}updatePixiTileMap(e,i){this._tileMap=e,TileMapHelper.PixiTileMapHelper.updatePixiTileMap(this._pixiObject,e,i,this._object._displayMode,this._object._layerIndex)}refreshPixiTileMap(e){!this._tileMap||TileMapHelper.PixiTileMapHelper.updatePixiTileMap(this._pixiObject,this._tileMap,e,this._object._displayMode,this._object._layerIndex)}getTileMap(){return this._tileMap}updatePosition(){this._pixiObject.pivot.x=this.getTileMapWidth()/2,this._pixiObject.pivot.y=this.getTileMapHeight()/2,this._pixiObject.position.x=this._object.x+this.getWidth()/2,this._pixiObject.position.y=this._object.y+this.getHeight()/2}updateAngle(){this._pixiObject.rotation=n.toRad(this._object.angle)}updateOpacity(){this._pixiObject.alpha=this._object._opacity/255;const e=this._tileMap;if(!!e)for(const i of e.getLayers())this._object._displayMode==="index"&&this._object._layerIndex!==i.id||this._object._displayMode==="visible"&&!i.isVisible()||i instanceof TileMapHelper.EditableTileMapLayer&&i.setAlpha(this._pixiObject.alpha)}getTileMapWidth(){const e=this._tileMap;return e?e.getWidth():20}getTileMapHeight(){const e=this._tileMap;return e?e.getHeight():20}setWidth(e){this._pixiObject.scale.x=e/this.getTileMapWidth(),this._pixiObject.position.x=this._object.x+e/2}setHeight(e){this._pixiObject.scale.y=e/this.getTileMapHeight(),this._pixiObject.position.y=this._object.y+e/2}setScaleX(e){this._pixiObject.scale.x=e;const i=e*this.getTileMapWidth();this._pixiObject.position.x=this._object.x+i/2}setScaleY(e){this._pixiObject.scale.y=e;const i=e*this.getTileMapHeight();this._pixiObject.position.y=this._object.y+i/2}getWidth(){return this.getTileMapWidth()*this._pixiObject.scale.x}getHeight(){return this.getTileMapHeight()*this._pixiObject.scale.y}getScaleX(){return this._pixiObject.scale.x}getScaleY(){return this._pixiObject.scale.y}getTileId(e,i,l){const t=this._tileMap;return t?t.getTileId(e,i,l):-1}flipTileOnY(e,i,l,t){const p=this._tileMap;!p||p.flipTileOnY(e,i,l,t)}flipTileOnX(e,i,l,t){const p=this._tileMap;!p||p.flipTileOnX(e,i,l,t)}isTileFlippedOnX(e,i,l){const t=this._tileMap;return t?t.isTileFlippedOnX(e,i,l):!1}isTileFlippedOnY(e,i,l){const t=this._tileMap;return t?t.isTileFlippedOnY(e,i,l):!1}setGridRowCount(e){const i=this._tileMap;if(!!i)return i.setDimensionY(e)}setGridColumnCount(e){const i=this._tileMap;if(!!i)return i.setDimensionX(e)}getGridRowCount(){const e=this._tileMap;return e?e.getDimensionY():0}getGridColumnCount(){const e=this._tileMap;return e?e.getDimensionX():0}destroy(){this._pixiObject.destroy(!1)}}n.TileMapRuntimeObjectPixiRenderer=s,n.TileMapRuntimeObjectRenderer=n.TileMapRuntimeObjectPixiRenderer})(gdjs||(gdjs={}));
//# sourceMappingURL=tilemapruntimeobject-pixi-renderer.js.map
